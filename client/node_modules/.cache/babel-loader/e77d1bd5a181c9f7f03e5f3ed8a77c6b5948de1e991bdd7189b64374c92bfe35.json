{"ast":null,"code":"import _slicedToArray from\"C:/Users/shukl/Desktop/AryanShukla-Graded-Coding-Assignment-React-main/moviesOnTheTip/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var createFavourite=function createFavourite(obj){return fetch('http://localhost:4000/favourit',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(obj)}).then(function(response){return response.json();});};var deleteFavourite=function deleteFavourite(id){return fetch(\"http://localhost:4000/favourit/\".concat(id),{method:'DELETE'}).then(function(response){return response.json();});};var Card=function Card(_ref){var movieCategory=_ref.movieCategory,movieData=_ref.movieData,isFavouriteTab=_ref.isFavouriteTab,setMovies=_ref.setMovies,isDisabledBtn=_ref.isDisabledBtn;var _useState=useState(isDisabledBtn),_useState2=_slicedToArray(_useState,2),isDisabled=_useState2[0],setDisabled=_useState2[1];var movieName=movieData.title;var imageUrl=movieData.posterurl;var onClickFavBtn=function onClickFavBtn(){if(isFavouriteTab){deleteFavourite(movieData.id).then(function(res){fetch('http://localhost:4000/favourit').then(function(response){return response.json();}).then(function(data){setMovies(data);});}).catch(function(err){return console.log(err);});}else{createFavourite(movieData).then(function(data){setDisabled(true);console.log(data);}).catch(function(err){return console.log(err);});}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",margin:\"10px\",border:\"2px solid black\",borderRadius:\"5px\",maxWidth:\"204px\"},children:[/*#__PURE__*/_jsx(Link,{to:\"/\".concat(movieCategory,\"/\").concat(movieName),children:/*#__PURE__*/_jsx(\"div\",{style:{margin:\"0px 0px\",width:\"200px\"},children:/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:\"\".concat(movieName,\" poster\"),height:\"250px\",width:\"200px\"})})}),/*#__PURE__*/_jsx(\"p\",{children:movieName}),/*#__PURE__*/_jsx(\"button\",{style:{border:\"none\",backgroundColor:\"transparent\",fontWeight:\"bold\",marginBottom:\"2px\"},onClick:onClickFavBtn,disabled:isDisabled&&!isFavouriteTab,children:isFavouriteTab?'Remove from Favourites':isDisabled?'Added to My Favourites':'Add To My Favourites'})]});};export default Card;","map":{"version":3,"names":["React","useState","Link","jsx","_jsx","jsxs","_jsxs","createFavourite","obj","fetch","method","headers","body","JSON","stringify","then","response","json","deleteFavourite","id","concat","Card","_ref","movieCategory","movieData","isFavouriteTab","setMovies","isDisabledBtn","_useState","_useState2","_slicedToArray","isDisabled","setDisabled","movieName","title","imageUrl","posterurl","onClickFavBtn","res","data","catch","err","console","log","style","display","flexDirection","alignItems","margin","border","borderRadius","maxWidth","children","to","width","src","alt","height","backgroundColor","fontWeight","marginBottom","onClick","disabled"],"sources":["C:/Users/shukl/Desktop/AryanShukla-Graded-Coding-Assignment-React-main/moviesOnTheTip/client/src/Components/Card.jsx"],"sourcesContent":["import React, {useState} from \"react\";\nimport {Link} from \"react-router-dom\";\n\nconst createFavourite = (obj) => {\n    return fetch('http://localhost:4000/favourit', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(obj),\n    }).then(response => response.json())\n}\n\nconst deleteFavourite = (id) => {\n    return fetch(`http://localhost:4000/favourit/${id}`, {\n        method: 'DELETE',\n    }).then(response => response.json())\n}\n\nconst Card = ({movieCategory, movieData, isFavouriteTab, setMovies, isDisabledBtn}) => {\n    const [isDisabled, setDisabled] = useState(isDisabledBtn);\n    const movieName = movieData.title;\n    const imageUrl = movieData.posterurl;\n\n    const onClickFavBtn = () => {\n        if (isFavouriteTab) {\n            deleteFavourite(movieData.id)\n                .then(res => {\n                    fetch('http://localhost:4000/favourit')\n                        .then(response => response.json())\n                        .then(data => {\n                            setMovies(data)\n                        });\n                })\n                .catch(err => console.log(err));\n        } else {\n            createFavourite(movieData)\n                .then(data => {\n                    setDisabled(true);\n                    console.log(data)\n                })\n                .catch(err => console.log(err));\n        }\n    }\n\n    return (\n        <div style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            margin: \"10px\",\n            border: \"2px solid black\",\n            borderRadius: \"5px\",\n            maxWidth: \"204px\",\n        }}>\n            <Link to={`/${movieCategory}/${movieName}`}>\n                <div style={{margin: \"0px 0px\", width: \"200px\"}}>\n                    <img src={imageUrl} alt={`${movieName} poster`} height=\"250px\" width=\"200px\"/>\n                </div>\n            </Link>\n            <p>{movieName}</p>\n            <button style={{\n                border: \"none\",\n                backgroundColor: \"transparent\",\n                fontWeight: \"bold\",\n                marginBottom: \"2px\"\n            }}\n                    onClick={onClickFavBtn}\n                    disabled={isDisabled && !isFavouriteTab}\n            >\n                {isFavouriteTab ? 'Remove from Favourites' : (isDisabled ? 'Added to My Favourites' : 'Add To My Favourites')}\n            </button>\n        </div>\n    )\n}\n\nexport default Card;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}